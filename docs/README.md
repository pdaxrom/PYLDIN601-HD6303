# Новый Пълдин-601

Это проект 8-битного компьютера, программно совместимого с Пълдин-601 на уровне приложений. Проект включает в себя не только аппаратную часть, но и BIOS, системные ПЗУ, операционную систему и утилиты для работы с обновленным железом.

[Плата процессора, памяти и адресного декодера](#плата-процессора,-памяти-и-адресного-декодера)

[Плата периферии](#плата-периферии)

## Плата процессора, памяти и адресного декодера

Текущая версия 1.2.

[Карта памяти](#карта-памяти)

[Управление картой и страницами памяти](#управление-картой-и-страницами-памяти)

[Фотография собранной печатной платы](#фотография-собранной-печатной-платы)

Функция|Описание
----|----
Процессор|HD63C03YP (мак. тактовая частота 3 МГц)
ОЗУ|128 КБ (статическое)
ПЗУ|128 КБ (электрически перепрограммируемое)
Порт ввода/вывода|14 бит, переконфигурируемые
Шина расширения|8 бит адрес, 8 бит данных, сигнал выбора окна периферии, прерывания, управление вводом/выводом

### Карта памяти

Адрес|Назначение
----|----
F000-FFFF|BIOS ПЗУ/ОЗУ
E700-EFFF|ОЗУ
E600-E6FF|Внешние устройства (EXTCS)
E000-E5FF|ОЗУ
C000-DFFF|Страницы ОЗУ/ПЗУ
0028-BFFF|ОЗУ
0000-0027|HD6303 внутренние устройства

### Управление картой и страницами памяти
Переключение карты адресного пространства и страниц памяти производится через внутренний порт 6 процессора ($17). Распределение битов:

7|6|5|4|3|2|1|0
----|----|----|----|----|----|----|----
FN2|FN1|FN0|PA3|ROM|PA2|PA1|PA0

FN2-0 отвечает за выбор конфигурации адресного пространства. Текущая прошивка адресного декодера обеспечивает выбор ПЗУ в окне BIOS при 111 и ОЗУ во всех остальных случаях.

PA3-PA0 выбор страницы ОЗУ или ПЗУ. За тип выбранной страницы отвечает бит ROM (1 = ПЗУ).

Так как для ОЗУ и ПЗУ используют теже микросхемы, что и страницы памяти, то в страничной памяти возможно отображение дублирующих страниц ОЗУ или BIOS.

Для ОЗУ:

Адрес|Страница/Адрес в процессорном пространстве
----|----
1E000-1FFFF|15/Нет
1C000-1DFFF|14/Нет
1A000-1BFFF|13/Нет
18000-19FFF|12/Нет
16000-17FFF|11/Нет
14000-15FFF|10/Нет
12000-13FFF|9/Нет
10000-11FFF|8/Нет
0E000-0FFFF|7/E000-EFFF (E000-FFFF если BIOS ПЗУ отключено)
0C000-0DFFF|6/C000-DFFF
0A000-0BFFF|5/A000-BFFF
08000-09FFF|4/8000-9FFF
06000-07FFF|3/6000-7FFF
04000-05FFF|2/4000-5FFF
02000-03FFF|1/2000-3FFF
00000-01FFF|1/0028-1FFF

Для ПЗУ

Адрес|Страница/Адрес в процессорном пространстве
----|----
1E000-1FFFF|15/D000-DFFF = F000-FFFF для BIOS ПЗУ
00000-1DFFF|0-14/Нет

### Фотография собранной печатной платы

![board version 1.2](CPU-MEM-v1.2.jpg)

## Плата периферии

Текущая версия 1.2


